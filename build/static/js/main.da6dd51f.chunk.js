(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(39)},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),u=t.n(c),o=t(15),i=t(14),l=t(2),d=function(e){var n=e.persons,t=e.handleDelete,c=Object(a.useState)(""),u=Object(l.a)(c,2),o=u[0],i=u[1],d=n.filter(function(e){return""===o||e.name.toUpperCase().includes(o.toUpperCase())}).map(function(e){return r.a.createElement("div",{key:e.name},e.name," : ",e.number,r.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))});return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("div",null,"Search phonebook: ",r.a.createElement("input",{value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement("h2",null,"Search results"),d)},m=function(e){var n=e.handleSubmit,t=Object(a.useState)(""),c=Object(l.a)(t,2),u=c[0],o=c[1],i=Object(a.useState)(""),d=Object(l.a)(i,2),m=d[0],s=d[1];return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:u,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:m,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return n(e,u,m)},type:"submit"},"add")))},s={color:"green",fontSize:"18px",border:"2px solid green",padding:"8px",margin:"20px 0px"},f={color:"red",fontSize:"18px",border:"2px solid red",padding:"8px",margin:"20px 0px"},p=function(e){var n=e.type,t=e.message;return""===t?null:r.a.createElement("div",{style:"success"===n?s:f},t)},b=t(3),h=t.n(b),v="/api/persons",E=function(e,n){return h.a.post(v,{name:e,number:n})},g=function(){return h.a.get(v)},j=function(e){return h.a.delete("".concat(v,"/").concat(e))},O=function(e,n){return h.a.put("".concat(v,"/").concat(e),n)},w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),s=Object(l.a)(u,2),f=s[0],b=s[1],h=Object(a.useState)(""),v=Object(l.a)(h,2),w=v[0],x=v[1],S=function(e,n){var a="".concat(e.name," already exists in phonebook. replace number with ").concat(n);window.confirm(a)&&O(e.id,Object(o.a)({},e,{number:n})).then(function(n){return c(t.map(function(t){return t.id!==e.id?t:n.data}))})};return Object(a.useEffect)(function(){g().then(function(e){return c(e.data)})},[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{type:w,message:f}),r.a.createElement(m,{handleSubmit:function(e,n,a){e.preventDefault();var r=t.find(function(e){return e.name===n});r?S(r,a):E(n,a).then(function(e){b("".concat(n," successfully created")),x("success"),setTimeout(function(){b(""),x("")},5e3),c(t.concat(e.data))})}}),r.a.createElement(d,{persons:t,handleDelete:function(e){if(window.confirm("Do you want to delete user with id ".concat(e))){var n=Object(i.a)(t),a=n.findIndex(function(n){return n.id===e});j(e).then(function(e){n.splice(a,1),c(n)}).catch(function(e){b("".concat(n[a].name," has already been deleted")),x("danger"),setTimeout(function(){b(""),x("")},5e3)})}}}))};u.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.da6dd51f.chunk.js.map