{"version":3,"sources":["components/PersonList.js","components/AddPersonForm.js","components/Notification.js","api.js","App.js","index.js"],"names":["PersonList","_ref","persons","handleDelete","_useState","useState","_useState2","Object","slicedToArray","term","setTerm","filteredPersons","filter","person","name","toUpperCase","includes","map","react_default","a","createElement","key","number","onClick","id","value","onChange","event","target","AddPersonForm","handleSubmit","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","type","successStyles","color","fontSize","border","padding","margin","dangerStyles","Notification","message","style","baseurl","api","axios","post","get","delete","concat","payload","put","App","setPersons","setMessage","_useState5","_useState6","setType","handleUpdateNumber","window","confirm","phoneService","_id","objectSpread","then","response","item","data","useEffect","components_Notification","components_AddPersonForm","preventDefault","find","console","log","setTimeout","catch","error","components_PersonList","temp","toConsumableArray","personIndex","findIndex","splice","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e86002b5.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nconst PersonList = ({ persons, handleDelete }) => {\n  const [term, setTerm] = useState(\"\");\n  const handleTermChange = event => setTerm(event.target.value);\n\n  let filteredPersons = persons\n    .filter(\n      person =>\n        term === \"\" || person.name.toUpperCase().includes(term.toUpperCase())\n    )\n    .map(person => (\n      <div key={person.name}>\n        {person.name} : {person.number}\n        <button onClick={() => handleDelete(person.id)}>delete</button>\n      </div>\n    ));\n\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <div>\n        Search phonebook: <input value={term} onChange={handleTermChange} />\n      </div>\n      <h2>Search results</h2>\n      {filteredPersons}\n    </div>\n  );\n};\n\nexport default PersonList;\n","import React, { useState } from \"react\";\n\nconst AddPersonForm = ({ handleSubmit }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleNameChange = event => setNewName(event.target.value);\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  return (\n    <form>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button\n          onClick={event => handleSubmit(event, newName, newNumber)}\n          type=\"submit\"\n        >\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddPersonForm;\n","import React from \"react\";\n\nconst successStyles = {\n  color: \"green\",\n  fontSize: \"18px\",\n  border: \"2px solid green\",\n  padding: \"8px\",\n  margin: \"20px 0px\"\n};\n\nconst dangerStyles = {\n  color: \"red\",\n  fontSize: \"18px\",\n  border: \"2px solid red\",\n  padding: \"8px\",\n  margin: \"20px 0px\"\n};\n\nconst Notification = ({ type, message }) => {\n  if (message === \"\") {\n    return null;\n  }\n\n  return (\n    <div style={type === \"success\" ? successStyles : dangerStyles}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseurl = \"/api/persons\";\n\nconst createPerson = (name, number) => axios.post(baseurl, { name, number });\nconst getPersons = () => axios.get(baseurl);\nconst updatePerson = (id, payload) => axios.put(`${baseurl}/${id}`, payload);\nconst deletePerson = id => axios.delete(`${baseurl}/${id}`);\n\nexport default { createPerson, getPersons, deletePerson, updatePerson };\n","import React, { useState, useEffect } from \"react\";\n\nimport PersonList from \"./components/PersonList\";\nimport AddPersonForm from \"./components/AddPersonForm\";\nimport Notification from \"./components/Notification\";\nimport phoneService from \"./api\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [type, setType] = useState(\"\");\n\n  const handleDelete = id => {\n    if (window.confirm(`Do you want to delete user with id ${id}`)) {\n      let temp = [...persons];\n      let personIndex = temp.findIndex(person => person.id === id);\n\n      phoneService\n        .deletePerson(id)\n        .then(response => {\n          temp.splice(personIndex, 1);\n          setPersons(temp);\n        })\n        .catch(response => {\n          setMessage(`${temp[personIndex].name} has already been deleted`);\n          setType(\"danger\");\n\n          setTimeout(() => {\n            setMessage(\"\");\n            setType(\"\");\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSubmit = (event, name, number) => {\n    event.preventDefault();\n\n    let person = persons.find(person => person.name === name);\n    console.log(\"Submitting!\");\n\n    person\n      ? handleUpdateNumber(person, number)\n      : phoneService\n          .createPerson(name, number)\n          .then(response => {\n            setMessage(`${name} successfully created`);\n            setType(\"success\");\n\n            setTimeout(() => {\n              setMessage(\"\");\n              setType(\"\");\n            }, 5000);\n\n            setPersons(persons.concat(response.data));\n          })\n          .catch(error => {\n            setMessage(`${error.response.data}`);\n            setType(\"danger\");\n\n            setTimeout(() => {\n              setMessage(\"\");\n              setType(\"\");\n            }, 5000);\n          });\n  };\n\n  const handleUpdateNumber = (person, number) => {\n    let message = `${\n      person.name\n    } already exists in phonebook. replace number with ${number}`;\n\n    if (window.confirm(message)) {\n      phoneService\n        .updatePerson(person._id, { ...person, number })\n        .then(response =>\n          setPersons(\n            persons.map(item => (item.id !== person.id ? item : response.data))\n          )\n        );\n    }\n  };\n\n  useEffect(() => {\n    phoneService.getPersons().then(response => setPersons(response.data));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification type={type} message={message} />\n      <AddPersonForm handleSubmit={handleSubmit} />\n      <PersonList persons={persons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}